(()=>{"use strict";var t,e,n,i={255:(t,e,n)=>{n.d(e,{T4:()=>o,uW:()=>a,Qs:()=>s,eA:()=>r,Th:()=>l,Wu:()=>c});const i={};function o(t){for(const e of t)i[e.id]=e}function a(){return i}function s(t,e){i[t]||(e.id=t,i[t]=e)}function r(t){if(t){const e=i[t],{original:n,small:o}=e.image;return n.blob&&!n.url&&(n.url=URL.createObjectURL(n.blob)),o?o.blob&&!o.url&&(o.url=URL.createObjectURL(o.blob)):e.image.small={url:n.url},e}const e="assets/images/album-art-placeholder.png";return{image:{original:{url:e},small:{url:e}}}}async function l(t){if(!t)return;return d(await t.arrayBuffer())}function c(t){return d(new TextEncoder("utf-8").encode(t).buffer)}async function d(t){const e=await crypto.subtle.digest("SHA-256",t);return[...new Uint8Array(e)].map((t=>t.toString(16).padStart(2,"0"))).join("")}},175:(t,e,n)=>{n.d(e,{H8:()=>d,mH:()=>u,hP:()=>f,eY:()=>p});var i=n(986),o=n(835);const a=document.getElementById("js-google-sign-in");let s=null,r=!1,l=!1,c=!1;async function d(){try{if(!l)return void await u(!0);const t=gapi.auth2.getAuthInstance();t.isSignedIn.get()?(await t.signOut(),r=!1,s=null,document.getElementById("js-google-panel-toggle-btn").remove(),a.insertAdjacentHTML("beforeend",'\n    <button id="js-google-sign-in-btn" class="btn btn-text"\n      data-item="google-sign-in" data-disable>Sign In</button>\n  '),(0,o.W)(),(0,i.hb)("google-sign-out")):(await t.signIn(),m(t.currentUser.get()))}catch(t){console.log(t)}}async function u(t=!1){if(l||c)return r;c=!0;try{await i.Vs.load({src:"https://apis.google.com/js/api.js"}),await new Promise((t=>gapi.load("client:auth2",t))),await gapi.client.init({apiKey:"AIzaSyD33Rxm4dA34Mh84oSxYTUUF_jyCLLOua4",clientId:"293076144560-r5cear7rprgo094u6ibcd6nl3bbg18te.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],scope:"https://www.googleapis.com/auth/youtube.readonly"});const e=gapi.auth2.getAuthInstance();return e.isSignedIn.get()?m(e.currentUser.get()):t&&(await e.signIn(),m(e.currentUser.get())),l=!0,r}catch(t){console.log(t)}finally{c=!1}}function m(t){const e=document.getElementById("js-google-sign-in-btn");r=!0,function(t){const e=t.getBasicProfile();s={name:e.getName(),email:e.getEmail(),image:e.getImageUrl()}}(t),e.remove(),a.insertAdjacentHTML("afterbegin",`\n    <button id="js-google-panel-toggle-btn" class="btn btn-icon google-panel-toggle-btn"\n    data-disable>\n      <img src="${s.image}" class="google-user-image" alt="">\n    </button>\n  `),document.getElementById("js-google-panel-toggle-btn").addEventListener("click",v)}function f(){const t=gapi.auth2.getAuthInstance();return t.isSignedIn.get()?t.currentUser.get().getAuthResponse().access_token:null}function p(){return s}function y(t,{element:e}){e.insertAdjacentHTML("afterend",`\n    <div id=${t} class="panel google-panel">\n      <div class="google-user">\n        <img src="${s.image}" class="google-user-image" alt="">\n        <div class="google-user-details">\n          <div class="google-user-name">${s.name}</div>\n          <div>${s.email}</div>\n        </div>\n      </div>\n      <button class="btn btn-text google-sign-out-btn"\n      data-item="google-sign-in">Sign Out</button>\n    </div>\n  `)}function v({currentTarget:t}){(0,o.Z)("js-google-panel",y,{element:t})}},357:(t,e,n)=>{n(202);var i=n(986);n(938),n(411),n(233),n(804),n(835),n(515),n(503),n(554),n(805),n(150),n(76),n(67),n(978),n(801),n(755),n(456),n(988),n(935),n(641),n(254),n(663),n(329),n(53),n(543);"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then((t=>{t.onupdatefound=()=>{const e=t.installing;e.onstatechange=()=>{"installed"===e.state&&navigator.serviceWorker.controller&&(0,i.hb)("sw-state-change","update")}}})).catch(console.log)},503:(t,e,n)=>{n.d(e,{_j:()=>b,ZU:()=>A,Q_:()=>j,RA:()=>x});var i=n(547),o=n(986),a=n(805),s=n(67),r=n(150),l=n(978),c=n(76),d=n(543),u=n(233),m=n(255),f=n(804),p=n(411);let y=!1;async function v(t){try{const e="https://ws.audioscrobbler.com/2.0/",n=`?method=track.getInfo&api_key=${"3e8d48b3277c21bc77965345f5faf18c"}&artist=${t.artist}&track=${t.title}&format=json`,i=await fetch(e+n).then((t=>t.json()));if(i.track&&i.track.album){const{title:e,image:n}=i.track.album;if(!t.album&&e&&(t.album=e),!t.artworkId&&n){const e=n[n.length-1]["#text"];if(e){const{origin:n,pathname:i}=new URL(e),[o]=i.split("/").slice(-1),a=`${n}/i/u/500x500/${o}`,s=function(t){const e=t.split(".")[1];if("jpg"===e)return"image/jpeg";return`image/${e}`}(o),r=await(0,m.Wu)(a);t.artworkId=r,(0,m.Qs)(r,{image:{original:{url:a},small:{url:e}},type:s})}}}}catch(t){console.log(t)}}function g(t){return t.map((t=>({needsMetadata:!0,audioTrack:t.audioTrack,name:t.name,title:t.name,artist:"",album:"",durationInSeconds:0,duration:"",player:"native"})))}async function b(t,e,n,i){if(!n.length)return void(0,d.t)({title:`${t} files`,body:"No valid audio file found."});const a=(l=n,c=e.tracks,l.reduce(((t,e)=>{const n=(i=e.name.trim()).slice(0,i.lastIndexOf("."));var i;const o=c.some((t=>t.name===n));return o||t.push({audioTrack:e,name:n}),t}),[]));var l,c;if(a.length){(0,o.hb)("import",{importing:!0,option:t,playlistId:e.id});try{const n=await i(a);(0,s.VX)(e,n),async function(t){await T(E),T(L),r.s.getSetting(t,"fetchMetadata")&&T($)}(e.id)}catch(t){console.log(t)}finally{(0,o.hb)("import",{importing:!1,option:t,playlistId:e.id})}}else(0,d.t)({title:`${t} files`,body:`Track${n.length>1?"s":""} already exist`})}async function h(t,e){const{artist:n,title:a,album:s,duration:l,picture:c}=await(0,i.Z)(t.audioTrack);t.title=a||t.name,t.artist=n||"",t.album=s||"",t.durationInSeconds=l,t.duration=(0,o.mr)(l),c&&(t.picture=c),!r.s.getSetting(e,"fetchMetadata")||t.album||c||(t.needsAlbum=!0)}function k(t,e){const n=(0,l.e0)(t.index,e.id);y=!0,n&&n.childElementCount&&(n.innerHTML=(0,l.y7)(t,e.id,e.type))}function w(t){return new Promise((e=>{const n=new Image,i=document.createElement("canvas"),o=i.getContext("2d");n.crossOrigin="anonymous",n.onload=function(){let{width:a,height:s}=n;const r=Math.min(a,s,256);a<s?(s=r/n.width*s,a=r):(a=r/n.height*a,s=r),i.width=a,i.height=s,o.drawImage(n,0,0,a,s),i.toBlob(e,t.type,.72),URL.revokeObjectURL(n.src)},n.src=URL.createObjectURL(t)}))}async function I(t){const[e,n]=await Promise.all([(0,m.Th)(t.picture),w(t.picture)]);t.artworkId=e,(0,m.Qs)(e,{image:{original:{blob:t.picture},small:{blob:n}},type:t.picture.type}),delete t.picture}async function E(t,e){delete t.needsMetadata,await h(t,e.id),e.id===(0,f.HR)()?k(t,e):(0,u.J)("")&&(0,c.Op)(e.id,e.tracks,!1)}async function L(t,e){t.picture&&(await I(t),e.id===(0,f.HR)()&&k(t,e))}async function $(t,e){t.needsAlbum&&(delete t.needsAlbum,await v(t),e.id===(0,f.HR)()&&k(t,e))}async function T(t){const e=(0,a.hT)("local-files");for(const n of e.tracks)try{await t(n,e)}catch(t){if(console.log(t),!(0,a.hT)("local-files"))return}(0,u.J)("")?(0,c.Op)(e.id,e.tracks):y=!0,e.storePlaylist&&(0,p.j)({action:"update-tracks",artworks:(0,m.uW)(),playlist:{id:e.id,tracks:e.tracks}})}async function j(t){const e=(0,a.hT)("local-files");t.needsMetadata&&(delete t.needsMetadata,await h(t,e.id)),t.picture&&await I(t),t.needsAlbum&&(delete t.needsAlbum,await v(t)),e.id===(0,f.HR)()?k(t,e):(0,u.J)("")?(0,c.Op)(e.id,e.tracks,!0):y=!0,e.storePlaylist&&(0,p.j)({action:"update-tracks",artworks:(0,m.uW)(),playlist:{id:e.id,tracks:e.tracks}})}function x(){const t=(0,a.hT)("local-files");y&&t&&requestAnimationFrame((()=>{(0,c.Op)(t.id,t.tracks)})),y=!1}function A(t){const e=function(t){const e=new Audio,n=[];return t=t.reduce(((t,i)=>{if(e.canPlayType(i.type))t.push(i);else if(i.type.startsWith("audio")){const{name:t}=i;n.push(t.slice(t.lastIndexOf(".")))}return t}),[]),n.length&&(0,d.t)({title:"Local Files",body:`Can't play audio files with type: ${n.join(", ")}`}),t}(t),n="local-files";b("local",(0,a.hT)(n)||(0,a.cg)({id:n,title:"Local Files",type:"list",storePlaylist:r.s.getSetting(n,"storePlaylist")}),e,g)}function S(t){return new Promise((e=>{t.file(e)}))}function B(t){return new Promise((e=>{const n=t.createReader(),i=[];!function t(){n.readEntries((async n=>{if(n.length>0){for(const t of n)if(t.isFile){const e=await S(t);i.push(e)}else if(t.isDirectory){const e=await B(t);i.push(...e)}t()}else e(i)}))}()}))}window.addEventListener("drop",(t=>{const{files:e,items:n}=t.dataTransfer;if(t.preventDefault(),e.length)if(n&&n.length&&n[0].webkitGetAsEntry){const t=[],e=[];(0,d.t)({id:"js-upload-notice",body:'\n          <div class="upload-notice">\n            <img src="./assets/images/spinner.svg" alt="">\n            <span>Uploading...</span>\n          </div>\n        '});for(const i of n){const n=i.webkitGetAsEntry();n.isDirectory?e.push(B(n)):n.isFile&&t.push(i.getAsFile())}Promise.all(e).then((e=>{A([...e.flat().concat(t)])})).catch((t=>{console.log(t)})).finally((()=>{document.getElementById("js-upload-notice").remove()}))}else A([...e])})),window.addEventListener("dragover",(t=>{t.preventDefault()}))},835:(t,e,n)=>{n.d(e,{W:()=>a,Z:()=>r});var i=n(986);let o=null;function a(){window.removeEventListener("click",l,!0),o.element.remove(),o=null}function s(t,e,n={}){e(t,n),o={id:t,element:document.getElementById(t),removeOnClick:n.removeOnClick,initiator:n.element},window.addEventListener("click",l,!0)}function r(t,e,n){if(o){const i=o.id;a(),i!==t&&s(t,e,n)}else s(t,e,n)}function l({target:t}){if(o.removeOnClick)return void a();const{element:e,initiator:n}=o,s=(0,i.c8)(t,e),r=!!n&&(0,i.c8)(t,n);s&&r&&a()}},254:(t,e,n)=>{n.d(e,{_W:()=>g,Ii:()=>b,Xv:()=>h,_k:()=>w,Lr:()=>I,NK:()=>Q,GQ:()=>B,Ef:()=>P,d3:()=>$,ov:()=>M,JI:()=>O});var i=n(986),o=n(938),a=n(805),s=n(978),r=n(641),l=n(663),c=n(367);const d=document.getElementById("js-volume-slider"),u=document.getElementById("js-track-slider"),m=document.getElementById("js-player-controls");let f=!1,p=null,y=0,v=0;const g=function(){let t=0;function e(){clearTimeout(t)}function n(e,o,a){const s=performance.now()-o-a;f||B(e,e.currentTime),r.S6.updateTrack({currentTime:e.currentTime}),e.currentTime<=e.durationInSeconds?(e.currentTime+=1,a+=1e3,t=setTimeout(n,1e3-s,e,o,a)):(0,i.hb)("track-end")}return{stop:e,start:function(t){const i=performance.now();e(),n(t,i,0)}}}();function b(){const t=document.getElementById("js-play-btn");if(t.querySelector(".play-pause-btn-spinner"))return;const e=(0,s.G$)(),n='\n    <svg viewBox="0 0 100 100" class="play-pause-btn-spinner">\n      <use href="#spinner"/>\n    </svg>\n  ';e&&(p=e,e.insertAdjacentHTML("beforeend",n)),t.insertAdjacentHTML("beforeend",n)}function h(){const t=(0,s.G$)();p&&(k(p),p=null),t&&k(t),k(document.getElementById("js-play-btn"))}function k(t){const e=t.querySelector(".play-pause-btn-spinner");e&&e.remove()}function w(t){return t?{id:"play-circle",title:"Play"}:{id:"pause-circle",title:"Pause"}}function I(t,e){(0,i.ZS)(t,w(e))}function E(t){const e=document.getElementById("js-volume-icon"),n={on:{id:"volume-off",title:"Unmute"},off:{id:"volume",title:"Mute"}};(0,i.ZS)(e,t?n.on:n.off)}function L(t,e){const{left:n,width:i}=document.getElementById(`js-${t}-slider`).getBoundingClientRect();let o=(e-n)/i*100;return o<0?o=0:o>100&&(o=100),o}function $(){g.stop(),B()}function T(t,e=!1){(0,r.jA)(t),(0,o.Lt)("volume",t),H(t),e&&function(t){const e=`${Math.round(100*t)}%`;Q(t?"volume":"volume-off",`<div class="control-action-text">${e}</div>`,"text-visible")}(t)}function j(t,e){const n=e/2;return t+n+8>window.innerWidth||t-n-8<0}function x(t,e){return`calc(${t}% - ${e}px)`}function A(t,e){const n=document.getElementById("js-volume-slider-label");n.textContent=`${Math.floor(t)}%`;const i=n.offsetWidth;j(e,i)||(n.style.left=x(t,i/2))}function S(t,e){document.getElementById(`js-${t}-slider-thumb`).style.left=100*e+"%",document.getElementById(`js-${t}-slider-elapsed`).style.transform=`scaleX(${e})`}function B(t,e=0){let n=1,o="0:00";t&&(n=t.durationInSeconds,o=t.duration);const a=(0,i.mr)(e,n>=3600);f||(document.getElementById("js-track-current").textContent=a),S("track",e/n),u.setAttribute("aria-valuenow",e),u.setAttribute("aria-valuetext",`${a} of ${o}`)}function H(t){const e=Math.floor(100*t);S("volume",t),d.setAttribute("aria-valuenow",e),d.setAttribute("aria-valuetext",`${e}% volume`)}function P(t="0:00",e=0){document.getElementById("js-track-duration").textContent=t,u.setAttribute("aria-valuemax",e)}function M(){u.classList.add("visible")}function O(){u.classList.remove("visible")}function R(t,e){const n=L("track",t);return{percent:n,currentTime:Math.floor(e*n/100)}}function q(t){document.getElementById(`js-${t}-slider-label`).classList.add("visible")}function C(t){document.getElementById(`js-${t}-slider-label`).classList.remove("visible")}function V(t,e,n){const o=document.getElementById("js-track-slider-label");o.textContent=(0,i.mr)(e);const a=o.offsetWidth;j(n,a)||(o.style.left=x(t,a/2))}function U({pageX:t}){const e=(0,a.Ci)(),{percent:n,currentTime:i}=R(t,e.durationInSeconds);B(e,i),V(n,i,t)}function W({pageX:t}){const e=(0,a.Ci)();if(!e)return;const{percent:n,currentTime:i}=R(t,e.durationInSeconds);V(n,i,t)}function D({pageX:t}){const e=(0,a.Ci)();if(f=!1,e){const{currentTime:n}=R(t,e.durationInSeconds);B(e,n),(0,r.wc)(e.player,n),r.S6.updateTrack({currentTime:n})}C("track"),window.removeEventListener("pointermove",U),window.removeEventListener("pointerup",D),u.addEventListener("pointermove",W)}function N({pageX:t}){const e=L("volume",t),n=e/100;n!==(0,o.$8)("volume")&&(A(e,t),n?(z(),T(n)):F({mute:!0}))}function X({pageX:t}){A(L("volume",t),t)}function K(){C("volume"),window.removeEventListener("pointermove",N),window.removeEventListener("pointerup",K),d.addEventListener("pointermove",X)}function Y(t,e){let n=t.getAttribute("data-mode");const i={normal:{name:"repeat",nextTitle:"Play track once",currentTitle:"Repeat track",iconId:"repeat"},repeat:{name:"track-once",nextTitle:"Play playlist once",currentTitle:"Play track once",iconId:"repeat-once"},"track-once":{name:"playlist-once",nextTitle:"Repeat playlist",currentTitle:"Play playlist once",iconId:"repeat-once"},"playlist-once":{name:"normal",nextTitle:"Repeat track",currentTitle:"Repeat playlist",iconId:"repeat"}};if(e){for(const[t,o]of Object.entries(i))if(e===o.name){n=t;break}}else _(t,i[n].currentTitle);const{name:a,nextTitle:s,iconId:r}=i[n];"normal"===a?t.classList.remove("active"):t.classList.add("active"),t.setAttribute("data-mode",a),t.setAttribute("title",s),t.querySelector("use").setAttribute("href",`#${r}`),(0,o.Lt)("playback",a)}function _(t,e){const n=document.getElementById("js-control-btn-label");n&&n.remove(),t.parentElement.insertAdjacentHTML("afterbegin",`\n    <div id="js-control-btn-label" class="control-btn-label">${e}</div>\n  `),clearTimeout(y),y=setTimeout((()=>{document.getElementById("js-control-btn-label").remove()}),1e3)}function z(){const t=(0,o.$8)("mute");t&&((0,o.Wf)("volumeBeforeMute"),(0,o.Lt)("mute",!t),E(!t))}function F({mute:t=!(0,o.$8)("mute"),volumeVisible:e=!1}={}){!function(t,e){const n=t?0:(0,o.$8)("volumeBeforeMute");t?(0,o.Lt)("volumeBeforeMute",(0,o.$8)("volume")):(0,o.Wf)("volumeBeforeMute"),T(n,e)}(t,e),(0,o.Lt)("mute",t),E(t)}function Z({attrValue:t,elementRef:e}){switch(t){case"play":(0,r.z8)();break;case"next":(0,r.e0)();break;case"previous":(0,r.m8)();break;case"playback":Y(e);break;case"mute":F();break;case"shuffle":!function(t){const e=!(0,o.$8)("shuffle");(0,o.Lt)("shuffle",e),_(t,e?"Shuffle":"No shuffle"),t.classList.toggle("active"),t.querySelector("title").textContent=e?"No shuffle":"Shuffle"}(e.parentElement);break;case"queue":(0,c.Q1)(e)}}function Q(t,e="",n=""){const i=document.getElementById("js-control-action");if(n=""+(n?` ${n}`:""),(0,l.Td)()){const t=(0,a.Ci)();n="youtube"===(null==t?void 0:t.player)?`${n} youtube-player-visible`:`${n} artwork-visible`}i&&i.remove(),document.body.insertAdjacentHTML("beforeend",`\n    <div id="js-control-action" class="control-action${n}">\n      ${e}\n      <svg viewBox="0 0 24 24" class="control-action-icon">\n        <use href="#${t}"/>\n      </svg>\n    </div>\n  `),clearTimeout(v),v=setTimeout((()=>{document.getElementById("js-control-action").remove()}),1e3)}function J(t){let e=(0,o.$8)("volume");if(e<1&&"ArrowRight"===t||"ArrowUp"===t)e||z(),e+=.05,e>1&&(e=1);else if((e||"ArrowDown"===t)&&(e-=.05,e<=0))return e=0,void F({mute:!0});T(e,!0)}function G(t){const e=(0,a.Ci)();if(!e)return;const n=e.durationInSeconds;let{currentTime:i}=r.S6.getTrack();"ArrowRight"===t||"ArrowUp"===t?(i+=5,i>n&&(i=n),Q("fast-forward")):"ArrowLeft"!==t&&"ArrowDown"!==t||(i-=5,i<0&&(i=0),Q("rewind")),B(e,i),(0,r.wc)(e.player,i),r.S6.updateTrack({currentTime:i})}function tt(t){return function({pageX:e}){const n=document.getElementById(`js-${t}-slider-label`),i=window.innerWidth,o=n.offsetWidth/2;if(e+o+8>i){const e=L(t,i-o-8);n.style.left=x(e,o)}else if(e-o-8<0){const e=L(t,o+8);n.style.left=x(e,o)}}}window.addEventListener("keydown",(t=>{const e=t.ctrlKey||t.shiftKey||t.altKey||t.metaKey,{target:n,key:o}=t;n instanceof HTMLInputElement&&"text"===n.type||e||("p"===o?((0,r.z8)(),Q((0,r.YI)()?"pause":"play")):"m"===o?F({volumeVisible:!0}):"["===o?(0,r.e0)():"o"===o?(0,r.m8)():o.startsWith("Arrow")&&"slider"!==n.getAttribute("role")&&!(0,i.rP)(n)&&("ArrowUp"===o||"ArrowDown"===o?J(o):"ArrowRight"!==o&&"ArrowLeft"!==o||G(o)))})),u.addEventListener("pointerdown",(t=>{1===t.which&&(0,a.Ci)()&&(f=!0,q("track"),U(t),u.removeEventListener("pointermove",W),window.addEventListener("pointermove",U),window.addEventListener("pointerup",D))})),u.addEventListener("pointermove",W),u.addEventListener("pointerenter",tt("track")),u.addEventListener("keydown",(({key:t})=>{t.startsWith("Arrow")&&G(t)})),d.addEventListener("pointerdown",(t=>{1===t.which&&(q("volume"),N(t),d.removeEventListener("pointermove",X),window.addEventListener("pointermove",N),window.addEventListener("pointerup",K))})),d.addEventListener("pointermove",X),d.addEventListener("pointerenter",tt("volume")),d.addEventListener("keydown",(({key:t})=>{t.startsWith("Arrow")&&J(t)})),m.addEventListener("click",(({target:t})=>{const e=(0,i.A5)("data-item",t);e&&Z(e)})),m.addEventListener("keyup",(({target:t,key:e})=>{const n=(0,i.A5)("data-item",t);"INPUT"===(null==n?void 0:n.elementRef.nodeName)&&"Enter"===e&&Z(n)})),document.getElementById("js-volume-toggle-btn").addEventListener("click",(({currentTarget:t})=>{t.classList.toggle("active"),document.getElementById("js-additional-controls").classList.toggle("visible")})),H((0,o.$8)("volume")),Array.from(m.querySelectorAll("[data-item]")).forEach((t=>{const e=t.getAttribute("data-item"),n=(0,o.$8)(e);n&&("playback"===e?Y(t,n):"mute"===e?E(n):"shuffle"===e&&t.parentElement.classList.add("active"))}))},641:(t,e,n)=>{n.d(e,{YI:()=>k,aP:()=>w,OH:()=>E,m8:()=>x,z8:()=>$,e0:()=>j,Aq:()=>S,P2:()=>A,Gj:()=>H,jA:()=>M,wc:()=>O,S6:()=>h,ue:()=>q});var i=n(254),o=n(805),a=n(986),s=n(804),r=n(938),l=n(515),c=n(978),d=n(663),u=n(543),m=n(367),f=n(503),p=n(329),y=n(53);let v=!0,g=!1,b=null;const h=function(){function t(){return JSON.parse(localStorage.getItem("track"))||{}}function e(t){localStorage.setItem("track",JSON.stringify(t))}function n(){localStorage.removeItem("track")}return{getTrack:t,removeTrack:n,saveTrack:e,updateTrack:function(n){e(Object.assign(t(),n))},initTrack:function(){const e=t();if(!e)return;const{playlistId:a,currentTime:s,name:l}=e,c=(0,o.gH)(a,l);c?((0,o.X5)(a,(0,r.$8)("shuffle"),c.index),L(c,a,{startTime:s}),(0,i.GQ)(c,s)):n()}}}();function k(){return v}function w(t){v="boolean"==typeof t?t:!v,v&&((0,l._4)(),i._W.stop()),I(v),q()}function I(t){const e=document.getElementById("js-play-btn");(0,i.Lr)(e,t),(0,c.T4)(t),(0,m.qx)(t)}function E({player:t}){"native"===t?p.OH(v):"youtube"===t&&y.OH(v),w()}async function L(t,e,n={}){const a=(0,r.$8)("volume");await async function(t,e,{scrollToTrack:n,startTime:a}){const{rendered:s}=(0,o.mP)(e);(t.needsMetadata||t.needsAlbum||t.picture)&&((0,i.Ii)(),await(0,f.Q_)(t)),(0,d._s)(t),(0,i.Ef)(t.duration,t.durationInSeconds),(0,i.ov)(),(0,o.o)(e),g&&(0,o.Ci)()||(0,o.bg)(t.index,e),(0,o.Jh)(t),(0,m.qQ)(t,e),s&&-1!==t.index&&((0,c.x2)(t.index,e),n&&(0,c.xA)(e)),void 0===a?(v=!1,q(),(0,i.Ii)(),I(v)):v=!0}(t,e,n),"native"===t.player?p.z8(t,a,n.startTime):"youtube"===t.player&&y.z8(t.id,a,n.startTime)}function $(){const t=(0,o.Ci)();t?E(t):T("direction",0,(0,s.HR)())}function T(t,e,n,a="auto",s=!1){if(!n)return;const l=(0,r.$8)("shuffle"),f=(0,o.Ci)(),{shuffled:p}=(0,o.mP)(n);if(g=!1,f&&((0,c.T4)(!0),(0,c.U7)(),(0,i.d3)(),B(f)),"index"===t){const{tracks:t}=(0,o.hT)(n),i=t[e];(0,o.X5)(n,l,i.index),L(i,n)}else if("direction"===t){let t=!1;if((0,o.RX)().length&&p===l||((0,o.X5)(n,l),l&&(t=!0)),!s&&(0===e||1===e)){const{track:t,playlistId:e}=(0,m.eS)();if(t)return g=!0,f&&(b||={index:f.index,playlistId:n}),void L(t,e)}if(b){const{index:t,playlistId:n}=b,{tracks:i}=(0,o.hT)(n);return L(1===e?(0,o.Pd)(n,e):i[t],n),void(b=null)}let i=null;if(navigator.onLine)i=(0,o.Pd)(n,e);else{const t=[];for(;;){const a=(0,o.Pd)(n,0===e?1:e);if(t.includes(a.index)){(0,u.t)({body:"Can't play tracks from YouTube white offline"});break}if("youtube"!==a.player){i=a;break}t.push(a.index),(0,o.bg)(a.index,n)}}i?(t&&(0,o.dS)(i.index),L(i,n,{scrollToTrack:"auto"!==a&&!(0,d.Td)()})):P(f)}}function j({mode:t,ignoreQueue:e}={}){T("direction",1,(0,o.cI)(),t,e)}function x(){T("direction",-1,(0,o.cI)())}function A(t,e){T("index",t,e)}function S({currentTarget:t,detail:e,target:n}){const i=(0,s.HR)(),r=(0,a.A5)("data-btn",n,t),l=(0,a.A5)("data-index",n,t);if(!l||!l.elementRef.classList.contains("disabled"))if(2===e&&l&&!r)A(l.attrValue,i);else if(r){const t=parseInt(l.attrValue,10),e=(0,o.Ci)(),n=(0,o.cI)();e&&n===i&&t===e.index?E(e):A(t,i)}}function B({player:t}){"native"===t?p.NF():"youtube"===t&&y.NF()}function H(t){t&&B(t),P(t)}function P(t){v=!0,h.removeTrack(),(0,i.Ef)(),(0,i.JI)(),(0,d.RD)(),(0,o.Jh)(),(0,o.o)(),(0,l._4)(),t&&(I(v),(0,c.U7)(),(0,i.d3)(),(0,i.Xv)(),(0,m.Yt)())}function M(t){const e=(0,o.Ci)()||{};"native"===e.player?p.jA(t):"youtube"===e.player&&y.jA(t)}function O(t,e){i._W.stop(),"native"===t?p.wc(e):"youtube"===t&&y.wc(e)}function R({action:t}){const e=(0,o.Ci)();let{currentTime:n}=h.getTrack();"seekforward"===t?n+=5:"seekbackward"===t&&(n-=5),O(e.player,n),h.updateTrack({currentTime:n})}function q(t=(0,s.HR)()){const e=k(),n=(0,o.hT)(t);let i="Veery";if(e)n&&(i=`${n.title} | ${i}`);else{const{artist:t,name:e,title:n}=(0,o.Ci)();i=`${t&&n?`${t} - ${n}`:e} | ${i}`}document.title=i}window.addEventListener("track-start",(({detail:t})=>{const e=(0,o.cI)(),{name:n,duration:a,durationInSeconds:s}=(0,o.Ci)();(0,l.OA)(e),h.saveTrack({name:n,playlistId:e}),i._W.start({currentTime:Math.floor(t),duration:a,durationInSeconds:s}),(0,i.Xv)()})),window.addEventListener("track-end",(()=>{const t=(0,o.Ci)(),e=(0,r.$8)("playback");"track-once"!==e&&("playlist-once"!==e||(0,o.gf)()!==(0,o.RX)().length-1)?(h.removeTrack(),"repeat"!==e?j({mode:"auto"}):L(t,(0,o.cI)())):H(t)})),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",$),navigator.mediaSession.setActionHandler("pause",$),navigator.mediaSession.setActionHandler("previoustrack",x),navigator.mediaSession.setActionHandler("nexttrack",j),navigator.mediaSession.setActionHandler("seekforward",R),navigator.mediaSession.setActionHandler("seekbackward",R))},329:(t,e,n)=>{n.d(e,{z8:()=>u,NF:()=>f,OH:()=>m,wc:()=>y,jA:()=>p});var i=n(986),o=n(641),a=n(254),s=n(543),r=n(805);const l=[];let c,d;function u(t,e,n){c=URL.createObjectURL(t.audioTrack),d=new Audio(c),d.onplaying=function(){(0,i.hb)("track-start",d.currentTime)},d.onerror=function(t){const e=(0,r.Ci)();l.includes(e.name)?((0,o.Gj)(e),l.length=0):((0,a.Xv)(),l.push(e.name),(0,o.e0)()),(0,s.t)({title:`Cannot play ${e.name}`,body:"Its path or name might have changed"}),console.log(t)},p(e),"number"!=typeof n?d.play():y(n)}function m(t){t?d.play():d.pause()}function f(){d.pause(),d.onplaying=null,d.onerror=null,d.currentTime=0,d=null,c&&(URL.revokeObjectURL(c),c=null)}function p(t){d.volume=t}function y(t){d.currentTime=t}},663:(t,e,n)=>{n.d(e,{Td:()=>p,_s:()=>w,RD:()=>I});var i=n(986),o=n(233),a=n(641),s=n(254),r=n(805),l=n(978),c=n(804),d=n(255);const u=document.getElementById("js-now-playing"),m=document.getElementById("js-media-container");let f=!1;function p(){return f}function y({target:t}){const e=(0,i.A5)("data-item",t);e&&"image"===e.attrValue&&((0,a.OH)((0,r.Ci)()),(0,s.NK)((0,a.YI)()?"pause":"play"))}function v(){const t=document.activeElement;t instanceof HTMLIFrameElement&&requestAnimationFrame((()=>{t.blur()}))}function g(t){27===t.which&&f&&b(!1)}function b(t=!f){const e=document.getElementById("js-media-toggle-btn"),n=document.getElementById("js-yt-player");if(m.classList.toggle("visible",t),f=t,t){const t=(0,r.Ci)();m.addEventListener("click",y),window.addEventListener("keydown",g),window.addEventListener("blur",v),(0,i.ZS)(e,{title:"Collapse",id:"collapse"}),n.removeAttribute("tabindex"),"native"===(null==t?void 0:t.player)&&(document.getElementById("js-player-controls").classList.add("transparent"),m.classList.add("image"))}else m.removeEventListener("click",y),window.removeEventListener("keydown",g),window.removeEventListener("blur",v),(0,i.ZS)(e,{title:"Expand",id:"expand"}),n.setAttribute("tabindex","-1"),document.getElementById("js-player-controls").classList.remove("transparent"),m.classList.remove("image")}function h(){const t=document.getElementById("js-track-info");t&&t.remove()}function k(t="./assets/images/album-art-placeholder.png"){document.getElementById("js-artwork").src=t}function w(t){const{image:e,type:n}=(0,d.eA)(t.artworkId);!function(t,e){h(),k(e),u.classList.remove("inactive"),u.insertAdjacentHTML("beforeend",function(t){let e=t.name,n=null;return t.artist&&t.title?(e=`${t.artist} - ${t.title}${t.album?` - ${t.album}`:""}`,n=`\n      <div class="track-info-item track-title" data-action="reveal-track">${t.title}</div>\n      <div class="track-info-item">${t.artist}${t.album?` - ${t.album}`:""}</div>\n    `):n=`<div class="track-info-item track-name" data-action="reveal-track">${t.name}</div>`,`<div id="js-track-info" class="track-info" title="${e.replace(/"/g,"&quot;")}">${n}</div> `}(t))}(t,e.small.url),function(t,{original:e,small:n}){const i=document.getElementById("js-media-image-container");if("native"===t){const[t,o]=i.children;if(e.url!==o.src){const i=o.cloneNode();i.onload=function(){const a=e.url.includes("placeholder");t.classList.toggle("hidden",a),i.classList.toggle("shadow",!a),o.replaceWith(i),t.src=n.url,i.onload=null},i.src=e.url}i.classList.remove("hidden")}else i.classList.add("hidden")}(t.player,e),"mediaSession"in navigator&&"youtube"!==t.player&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:t.artist,album:t.album,artwork:[{src:e.original.url,sizes:"512x512",type:n},{src:e.small.url,sizes:"256x256",type:n}]}))}function I(){document.title="Veery",u.classList.add("inactive"),k(),h(),b(!1),"mediaSession"in navigator&&(navigator.mediaSession.metadata=null)}u.addEventListener("click",(t=>{const e=(0,i.A5)("data-action",t.target);e&&("toggle-media"===e.attrValue?b():"reveal-track"===e.attrValue&&function(){const t=(0,r.cI)();t&&(t!==(0,c.HR)()?(0,o.j8)(`playlist/${t}`):(0,l.Tg)(t),f&&b(!1))}())}))},543:(t,e,n)=>{n.d(e,{t:()=>s});var i=n(986);function o(){return document.getElementById("js-player-messages")||function(){const t=document.createElement("div");return t.id="js-player-messages",t.classList.add("player-messages"),document.getElementById("js-player").appendChild(t),t}()}function a(){const t=o();if(t){const e=[...t.children].reverse();for(const n of e)if(!n.id){n.remove(),e.length-1==0&&t.remove();break}}}function s({title:t,body:e,id:n}){o().insertAdjacentHTML("afterBegin",`\n    <div ${n?`id=${n} `:""}class="player-message">\n      ${t?`<h3 class="player-message-title">${t}</h3>`:""}\n      <div class="player-message-body">${e}</div>\n    </div>\n  `),n||setTimeout(a,6e3)}function r(){location.reload()}function l(){(0,i.hb)("connectivity-status",navigator.onLine)}window.addEventListener("sw-state-change",(({detail:t})=>{"update"===t&&(o().insertAdjacentHTML("afterBegin",'\n    <div class="player-message service-worker-message">\n      <p class="player-message-body">Update is available, please refresh.</p>\n      <button id="js-player-message-btn" class="btn btn-icon player-message-btn">Refresh</button>\n    </div>\n  '),document.getElementById("js-player-message-btn").addEventListener("click",r),setTimeout(a,6e3))})),window.addEventListener("online",l),window.addEventListener("offline",l),window.addEventListener("load",l,{once:!0})},53:(t,e,n)=>{n.d(e,{z8:()=>h,NF:()=>k,OH:()=>b,wc:()=>I,jA:()=>w});var i=n(986),o=n(641),a=n(543),s=n(254),r=n(805);let l=!1,c=null,d=!1,u=null,m=!1,f=!1;function p({data:t}){const e=(0,r.Ci)();e&&"youtube"===e.player&&(1===t?(m||(0,o.aP)(!1),m=!1,(0,i.hb)("track-start",c.getCurrentTime())):2===t?(m||(0,o.aP)(!0),m=!1,(0,s.Xv)()):3===t?(s._W.stop(),(0,s.Ii)()):(0,s.Xv)())}function y(){const{id:t,volume:e,startTime:n}=u;l=!0,"number"==typeof n?(w(e),f?c.loadVideoById(t,n):(c.cueVideoById(t,n),d=!0)):h(t,e)}function v(t){let e="";if(100===t.data?e="Video is either removed or marked as private":101!==t.data&&150!==t.data||(e="The owner of the requested video does not allow it to be played in embedded players"),console.log(t),e){const t=(0,r.cI)(),n=(0,r.Ci)(),{name:i}=(0,r.Pd)(t,1);n.name===i?(0,o.Gj)(n):(0,o.e0)(),(0,a.t)({title:`Cannot play ${n.name}`,body:e})}}function g(){c=new YT.Player("js-yt-player",{playerVars:{autoplay:0,disablekb:1,controls:0,fs:0,iv_load_policy:3},events:{onReady:y,onStateChange:p,onError:v}})}function b(t){l?(m=!0,d=!1,t?c.playVideo():c.pauseVideo()):f=t}function h(t,e,n){if(l)return w(e),void c.loadVideoById(t,n);u={id:t,volume:e,startTime:n},window.onYouTubeIframeAPIReady=g,i.Vs.load({src:"https://www.youtube.com/iframe_api"})}function k(){l&&((0,s.Xv)(),c.stopVideo(),d=!1)}function w(t){l&&c.setVolume(100*t)}function I(t){l&&(d?c.cueVideoById(u.id,t):c.seekTo(t,!0))}},367:(t,e,n)=>{n.d(e,{eS:()=>g,dS:()=>b,e5:()=>h,Re:()=>k,qQ:()=>w,Q1:()=>E,Yt:()=>L,qx:()=>T});var i=n(986),o=n(804),a=n(254),s=n(641),r=n(805),l=n(456),c=n(978),d=n(255);const u=document.getElementById("js-queue"),m=document.getElementById("js-queue-clear-btn"),f=u.querySelector(".queue-tracks"),p=u.querySelector(".queue-message");let y=[],v=null;function g(){if(v=y.shift(),!v)return{};const t=(0,r.hT)(v.playlistId);return f.firstElementChild.remove(),$(),{track:t.tracks[v.index],playlistId:v.playlistId}}function b(){const t=(0,l.HU)(),e=(0,o.HR)(),n=(0,r.hT)(e),i=t.map((t=>{const i=n.tracks[t];return{index:i.index,name:i.name,playlistId:e}})).filter((({name:t})=>!y.find((e=>e.name===t))));var a;y=y.concat(i),a=i,m.disabled=!1,p.classList.add("hidden"),f.parentElement.classList.add("visible"),f.insertAdjacentHTML("beforeend",a.map((t=>{const e=(0,r.hT)(t.playlistId),n=e.tracks[t.index];return`\n      <li class="grid-item queue-track removable" data-id="${t.name}" data-pl-id="${e.id}" data-index="${t.index}">\n        ${I(n,"queued",!0)}\n      </li>\n    `})).join(""))}function h(t){const[e,n]=y.reduce((([e,n],i,o)=>(t.find((t=>t.name===i.name))?n.push(f.children[o]):e.push(i),[e,n])),[[],[]]);y=e,n.forEach((t=>t.remove())),$()}function k(t){const[e,n]=y.reduce((([e,n],i,o)=>(i.playlistId===t?n.push(f.children[o]):e.push(i),[e,n])),[[],[]]);y=e,n.forEach((t=>t.remove())),$()}function w(t,e){const n=document.getElementById("queue-now-playing"),i=document.getElementById("queue-next-in-playlist"),o=(0,r.Pd)(e,1);n?n.children[1].innerHTML=I(t,"current"):f.parentElement.insertAdjacentHTML("beforebegin",`\n      <div id="queue-now-playing" class="queue-section">\n        <h4 class="queue-section-title">Now playing</h4>\n        <div class="grid-item queue-track">${I(t,"current")}</div>\n      </div>\n    `),i?i.children[1].innerHTML=I(o,"next"):f.parentElement.insertAdjacentHTML("afterend",`\n      <div id="queue-next-in-playlist" class="queue-section">\n        <h4 class="queue-section-title">Next in playlist</h4>\n        <div class="grid-item queue-track">${I(o,"next")}</div>\n      </div>\n    `),p.classList.add("hidden")}function I(t,e,n){const{title:o,id:a}=(0,c.BA)(t.index);return`\n    <div class="artwork-container grid-item-thumbnail">\n      <button class="btn btn-icon track-play-pause-btn artwork-container-btn" data-btn=${e} title="${o}">\n        ${(0,i.q7)({iconId:a,className:"grid-item-btn-icon"})}\n      </button>\n      <img src="${(0,d.eA)(t.artworkId).image.small.url}" class="artwork" alt="">\n    </div>\n    ${(0,c.K2)(t)}\n    ${n?`\n      <button class="btn btn-icon btn-icon-alt queue-track-remove-btn" data-remove-btn data-btn="remove" title="Remove">\n        ${(0,i.q7)({iconId:"trash"})}\n      </button>\n    `:""}\n    <div class="grid-item-duration">${t.duration}</div>\n  `}function E(t){t.classList.toggle("active"),u.classList.toggle("visible")}function L(){const t=document.getElementById("queue-now-playing"),e=document.getElementById("queue-next-in-playlist");t&&t.remove(),e&&e.remove(),y.length||p.classList.remove("hidden")}function $(){y.length||(m.disabled=!0,f.parentElement.classList.remove("visible"),(0,r.Ci)()||p.classList.remove("hidden"))}function T(t){const e=u.querySelector("[data-btn='current']");e&&(0,a.Lr)(e,t)}function j(t){y=y.filter((e=>e.name!==t.attrValue)),t.elementRef.remove(),$()}u.addEventListener("click",(t=>{const e=(0,i.A5)("data-btn",t.target);if(e)if("current"===e.attrValue){const t=(0,r.Ci)();(0,s.OH)(t)}else if("next"===e.attrValue)(0,s.e0)({ignoreQueue:!0});else if("queued"===e.attrValue){const e=(0,i.A5)("data-id",t.target),n=e.elementRef.getAttribute("data-index"),o=e.elementRef.getAttribute("data-pl-id");(0,s.P2)(n,o),j(e)}else if("remove"===e.attrValue){j((0,i.A5)("data-id",t.target))}})),m.addEventListener("click",(function(){y.length=0,f.innerHTML="",$()}))},935:(t,e,n)=>{n.d(e,{Ig:()=>r,m8:()=>l,AP:()=>c});var i=n(804),o=n(978);const a={};function s(t){t.forEach((({isIntersecting:t,target:e})=>{const n=!e.childElementCount;t&&n?function(t){const{id:e,tracks:n,type:a}=(0,i.Iv)(),s=n[t.getAttribute("data-index")];t.innerHTML=(0,o.y7)(s,e,a)}(e):t||n||e.contains(document.activeElement)||(e.innerHTML="")}))}function r(t){if(!IntersectionObserver||a[t])return;a[t]=new IntersectionObserver(s,{root:(0,i.Ko)(t),rootMargin:"120px 0px"});const{children:e}=(0,o.DI)(t);!function(t,e){e.forEach((e=>{a[t].observe(e)}))}(t,Array.from(e))}function l(t){a[t]&&c(t),r(t)}function c(t){a[t]&&(a[t].disconnect(),delete a[t])}},76:(t,e,n)=>{n.d(e,{Fo:()=>w,Op:()=>k,qr:()=>p,OV:()=>L});var i=n(986),o=n(515),a=n(411),s=n(835),r=n(175),l=n(255),c=n(554),d=n(805),u=n(67);let m=null;function f(){const t="js-pl-entries";return document.getElementById(t)||function(t){document.getElementById("js-tab-home").insertAdjacentHTML("beforeend",`\n    <div class="home-tab-section pl-entry-container">\n      <div class="home-tab-section-header">\n        <h2 class="home-tab-section-title">Playlists</h2>\n      </div>\n      <ul id="${t}"></ul>\n    </div>\n  `);const e=document.getElementById(t);return e.addEventListener("click",S),e.addEventListener("focus",B,!0),e}(t)}function p(t){const e=document.querySelector(`[data-entry-id="${t}"]`);return e?e.querySelector("[data-action='sync']"):null}function y({action:t,title:e,iconId:n,disabled:o}){return`\n    <button class="btn btn-icon btn-icon-alt pl-entry-btn" data-action="${t}"\n    title="${e}"${o?" disabled":""}>\n      ${(0,i.q7)({iconId:n})}\n    </button>\n  `}function v(t){let e=Math.floor(t/3600),n=Math.ceil(t/60%60);return 60===n&&(n=0,e+=1),`${e} hr ${n} min`}function g(t){const e=function(t){const e="assets/images/album-art-placeholder.png";if(!t.length)return[e];const n=t.reduce(((t,e)=>(e.artworkId&&t.push(e),t)),[]);if(!n.length)return[e];const o=[];for(const t of(0,i.Sy)(n)){if(4===o.length)break;o.includes(t.artworkId)||o.push(t.artworkId)}return o.map((t=>(0,l.eA)(t).image.small.url))}(t);return`\n    <div class="pl-entry-thumbnail _${e.length}">\n      ${e.map((t=>`\n        <div class="pl-entry-thumb-image-container">\n          <img src="${t}" class="pl-entry-thumb-image" alt="">\n        </div>\n      `)).join("")}\n    </div>\n  `}function b(t,e){const n=(0,d.TV)(e);t.querySelector(".track-count").textContent=`${e.length} tracks`,t.querySelector(".playlist-duration").textContent=v(n)}function h(t,e){t.querySelector(".pl-entry-thumbnail").remove(),t.insertAdjacentHTML("afterbegin",g(e))}function k(t,e,n=!0){const{children:i}=document.getElementById("js-pl-entries");for(const o of i)if(t===o.getAttribute("data-entry-id")){b(o,e),n&&h(o,e);break}}function w(t){const e=f(),n=(0,d.TV)(t.tracks),o=(0,i.q7)({iconId:"link"}),a=t.url?`<a href="${t.url}"\n    class="btn btn-icon btn-icon-alt pl-entry-btn" target="_blank"\n    title="Open playlist on YouTube">\n      ${o}\n    </a>\n  `:"",s=t.url?y({disabled:!navigator.onLine,action:"sync",title:"Synchronize playlist",iconId:"sync"}):"",r=t.url?`\n    <div class="pl-entry-panel-container">\n      ${y({action:"settings",title:"Settings",iconId:"settings"})}\n    </div>\n  `:"",l=y({action:"remove",title:"Remove playlist",iconId:"trash"}),c=(0,i.q7)({iconId:"edit",className:"pl-entry-input-icon"}),u=t.storePlaylist?"":(0,i.q7)({iconId:"alert",className:"pl-entry-stats-item",title:"This playlist will not be stored"}),m=t.isPrivate?(0,i.q7)({iconId:"lock",className:"pl-entry-stats-item",title:t.user?`Private to ${t.user.name}`:"Private"}):"";e.insertAdjacentHTML("beforeend",`\n    <li class="pl-entry" data-entry-id=${t.id}>\n      ${g(t.tracks)}\n      <div class="pl-entry-content">\n        <div class="pl-entry-input-container" data-action="edit">\n          <input type="text" class="input pl-entry-input" value="${t.title}">\n          ${c}\n        </div>\n        <div class="pl-entry-footer">\n          <div class="pl-entry-stats">\n          ${u}\n          ${m}\n          <span class="pl-entry-stats-item track-count">${t.tracks.length} tracks</span>\n          <span class="pl-entry-stats-item playlist-duration">${v(n)}</span>\n        </div>\n        ${a}\n        ${s}\n        ${r}\n        ${l}\n        </div>\n      </div>\n    </li>\n  `)}function I(t,{element:e,pl:n}){e.insertAdjacentHTML("afterend",`\n    <div id="${t}" class="panel pl-entry-panel">\n      <h3 class="panel-title">Playlist settings</h3>\n      <label class="checkbox-container">\n        <input type="checkbox" class="sr-only checkbox-input" ${n.syncOnInit?"checked":""}>\n        <div class="checkbox">\n          <div class="checkbox-tick"></div>\n        </div>\n        <span class="checkbox-label">Synchronize playlist on startup</span>\n      </label>\n    </div>\n  `),document.getElementById(t).addEventListener("change",H)}function E(t){const{parentElement:e}=t;var n;1===e.children.length?((n=e).removeEventListener("click",S),n.removeEventListener("focus",B,!0),n.parentElement.remove()):t.remove()}async function L(t){t.length&&(t.forEach((({id:t})=>{(0,i.hb)("import",{importing:!0,option:"youtube",playlistId:t})})),await(0,r.mH)(),t.forEach((({url:t})=>{(0,c.uI)(t,"sync")})))}function $({currentTarget:t}){const{attrValue:e}=(0,i.A5)("data-entry-id",t),n=(0,d.hT)(e),s=t.value;t.removeEventListener("blur",$),t.removeEventListener("keyup",T),s?s!==n.title&&(n.title=s,(0,o.oX)(e,s),n.storePlaylist&&(0,a.j)({action:"change-title",playlist:{id:n.id,title:s}})):t.value=n.title}function T({currentTarget:t,which:e}){13===e&&t.blur()}function j(t){document.getElementById("js-player").insertAdjacentHTML("beforeend",`\n    <div id="${t}" class="modal">\n      <div class="panel">\n        <div class="panel-title-container">\n          ${(0,i.q7)({iconId:"trash",className:"panel-icon"})}\n          <h3 class="panel-title">Remove playlist?</h3>\n        </div>\n        <p>Are you sure you want to remove this playlist?<br>If you remove this playlist all your tracks will be lost.</p>\n        <div class="panel-button-container">\n          <button class="btn btn-text" data-type="cancel">Cancel</button>\n          <button class="btn btn-danger" data-type="remove">Remove</button>\n        </div>\n      </div>\n    </div>\n  `),document.getElementById(t).addEventListener("click",A)}function x(t){document.getElementById("js-player").insertAdjacentHTML("beforeend",`\n    <div id="${t}" class="modal">\n      <div class="panel">\n        <div class="panel-title-container">\n          ${(0,i.q7)({iconId:"sync",className:"panel-icon"})}\n          <h3 class="panel-title">Synchronize playlist?</h3>\n        </div>\n        <p>Are you sure you want to synchronize this playlist with the playlist on YouTube? If you choose to synchronize you will lose all previously imported tracks.</p>\n        <div class="panel-button-container">\n          <button class="btn btn-text" data-type="cancel">Cancel</button>\n          <button class="btn btn-danger" data-type="sync">Synchronize</button>\n        </div>\n      </div>\n    </div>\n  `),document.getElementById(t).addEventListener("click",A)}function A({target:t,currentTarget:e}){if(t===e)return(0,s.W)(),void(m=null);const n=(0,i.A5)("data-type",t);n&&("remove"===n.attrValue?((0,u.l8)(m.playlist),E(m.entryElement)):"sync"===n.attrValue&&L([m.playlist]),(0,s.W)(),m=null)}function S({target:t}){const e=(0,i.A5)("data-entry-id",t),n=(0,i.A5)("data-action",t);if(!e||!n||n.elementRef.disabled)return;const{attrValue:o,elementRef:a}=n,r=(0,d.hT)(e.attrValue);"remove"===o?r.tracks.length&&r.storePlaylist?(m={playlist:r,entryElement:e.elementRef},(0,s.Z)("js-pl-remove-panel",j)):((0,u.l8)(r),E(e.elementRef)):"sync"===o?(m={playlist:r},(0,s.Z)("js-pl-sync-panel",x)):"settings"===o?(0,s.Z)("js-pl-entry-panel",I,{element:a,pl:r}):"edit"===o&&a.querySelector(".input").focus()}function B({target:t}){const e=(0,i.A5)("data-action",t);e&&"edit"===e.attrValue&&(t.addEventListener("blur",$),t.addEventListener("keyup",T))}function H({target:t}){const{attrValue:e}=(0,i.A5)("data-entry-id",t),n=(0,d.hT)(e);n.syncOnInit=t.checked,n.storePlaylist&&(0,a.j)({action:"change-sync",playlist:{id:n.id,syncOnInit:n.syncOnInit}})}window.addEventListener("connectivity-status",(({detail:t})=>{const e=document.getElementById("js-pl-entries");if(e){e.querySelectorAll("[data-action=sync]").forEach((e=>{e.disabled=!t}))}}))},801:(t,e,n)=>{n.d(e,{D:()=>u,W:()=>f});var i=n(986),o=n(804),a=n(805),s=n(978);const r=document.getElementById("js-filter-input"),l=r.parentElement;let c=0,d="";function u(t,e,n,i){const o=new RegExp(i,"i"),{sortOrder:s}=(0,a.mP)(t);e.forEach((t=>{const e=n[s.indexOf(t.index)],i=`${t.title}\n${t.artist}\n${t.album}`;e.classList.toggle("hidden",!o.test(i))}))}function m(t,e=""){const{tracks:n}=(0,a.hT)(t);if(!n.length)return;const{children:i}=(0,s.DI)(t);var o;d=e?t:"",u(t,n,i,e),o=e,document.getElementById("js-clear-input-btn").classList.toggle("visible",o)}function f(){d&&(r.value="",m(d))}function p(){l.classList.remove("active"),r.removeEventListener("keyup",y),r.removeEventListener("blur",p)}function y({target:t}){const e=(0,o.HR)();clearTimeout(c),c=setTimeout(m,400,e,t.value)}r.addEventListener("focus",(({currentTarget:t})=>{l.classList.add("active"),t.addEventListener("keyup",y),t.addEventListener("blur",p)})),l.addEventListener("click",(({target:t})=>{const e=(0,i.A5)("data-filter-item",t);if(!e)return;const n=e.attrValue;"icon"===n?r.focus():"button"===n&&(f(),p())}))},150:(t,e,n)=>{n.d(e,{s:()=>u});var i=n(986),o=n(835),a=n(175),s=n(503),r=n(554),l=n(515),c=n(76);const d=document.getElementById("js-import-options"),u=function(){const t={"local-files":{storePlaylist:!1,fetchMetadata:!1},dropbox:{storePlaylist:!1},...JSON.parse(localStorage.getItem("import-settings"))};return{setSetting:function(e,n,i){t[e][n]=i,localStorage.setItem("import-settings",JSON.stringify(t))},getSetting:function(e,n){return t[e]?t[e][n]:null},getSettings:function(){return t}}}();function m({children:t},e){Array.from(t).forEach((t=>{let n=null;t.hasAttribute("data-item")?n=t:t.querySelector("[data-item]")&&(n=t.querySelector("[data-item]")),n&&(n.classList.toggle("spinner",e),n.disabled=e)}))}function f(t){document.getElementById("js-import-form").removeEventListener("submit",g),t.removeEventListener("click",p),t.remove()}function p({target:t,currentTarget:e}){if(t===e||(0,i.A5)("data-cancel-btn",t,e))return void f(e);const n=(0,i.A5)("data-id",t,e);if(n)return(0,r.uI)(`https://youtube.com/playlist?list=${n.attrValue}`),void f(e);const a=(0,i.A5)("data-info-btn",t,e);if(a){const{elementRef:t}=a;(0,o.Z)("js-youtube-info-panel",b,{element:t})}}function y(){const t="js-youtube-modal",e="js-import-form",n=function(){const t=(0,r.pZ)();if(!t)return"";return`\n    <h4 class="youtube-modal-section-title">Your Playlists</h4>\n    <ul class="youtube-modal-playlists">${t.reduce(((t,e)=>`\n      ${t}\n      <li class="youtube-modal-playlist">\n        <button class="youtube-modal-playlist-btn" data-id="${e.id}">\n          <div class="youtube-modal-playlist-thumb-container">\n            <img src="${e.thumbnail}" alt="" class="youtube-modal-playlist-thumb">\n          </div>\n          <div class="youtube-modal-playlist-content">\n            <div>${e.title}</div>\n            <div class="youtube-modal-playlist-info">${e.itemCount} item${1===e.itemCount?"":"s"}</div>\n          </div>\n          <span class="youtube-modal-playlist-action">Import</span>\n        </button>\n      </li>\n    `),"")}</ul>\n  `}();d.insertAdjacentHTML("beforeend",`\n    <div id="${t}" class="youtube-modal-container">\n      <div class="youtube-modal">\n        <h3 class="youtube-modal-title">YouTube Import</h3>\n        <form id="${e}" class="youtube-modal-form">\n          <div class="youtube-modal-form-input-container">\n            <input type="text" name="url" class="input youtube-modal-form-input" placeholder="URL" required>\n            <button type="button"\n              class="btn btn-icon youtube-modal-form-info-btn" data-info-btn>\n              <svg viewBox="0 0 24 24">\n              <use href="#info"></use>\n              </svg>\n            </button>\n          </div>\n          <button class="btn youtube-modal-form-submit-btn">Import</button>\n        </form>\n        ${n}\n        <div class="youtube-modal-footer">\n          <button class="btn btn-text" data-cancel-btn>Cancel</button>\n        </div>\n      </div>\n    </div>\n  `),document.getElementById(t).addEventListener("click",p),document.getElementById(e).addEventListener("submit",g)}function v({target:t}){(0,s.ZU)([...t.files]),t.value="",t.onchange=null}function g(t){const e=t.target.elements.url.value.trim();e&&((0,r.uI)(e),f(document.getElementById("js-youtube-modal"))),t.preventDefault()}function b(t,{element:e}){e.insertAdjacentHTML("afterend",`\n    <div id="${t}" class="panel info-panel">\n    <h3 class="panel-title">Accepted formats:</h3>\n      <ul>\n        <li class="info-panel-content-item">youtube.com/playlist?list={playlistId}</li>\n        <li class="info-panel-content-item">youtube.com/watch?v={videoId}</li>\n      </ul>\n    </div>\n  `)}function h(t,{element:e}){const n=u.getSettings();e.insertAdjacentHTML("afterend",`\n    <div id="${t}" class="panel import-settings-panel">\n      <h3 class="panel-title import-settings-panel-title">Settings</h3>\n      <div class="import-setting-group">\n        <h4 class="import-setting-group-title">Store playlist for...</h4>\n        <label class="checkbox-container import-setting">\n          <input type="checkbox" class="sr-only checkbox-input"\n            data-id="local-files" data-setting="storePlaylist"\n            ${n["local-files"].storePlaylist?"checked":""}>\n          <div class="checkbox">\n            <div class="checkbox-tick"></div>\n          </div>\n          <span class="checkbox-label">Local Files</span>\n        </label>\n        <label class="checkbox-container import-setting">\n          <input type="checkbox" class="sr-only checkbox-input"\n            data-id="dropbox" data-setting="storePlaylist"\n            ${n.dropbox.storePlaylist?"checked":""}>\n          <div class="checkbox">\n            <div class="checkbox-tick"></div>\n          </div>\n          <span class="checkbox-label">Dropbox</span>\n        </label>\n        <div class="import-setting-message">\n          <svg viewBox="0 0 24 24">\n          <use href="#info"></use>\n          </svg>\n          <span>Stored playlists will persist through reload</span>\n        </div>\n      </div>\n      <label class="checkbox-container import-setting">\n        <input type="checkbox" class="sr-only checkbox-input"\n          data-id="local-files" data-setting="fetchMetadata"\n          ${n["local-files"].fetchMetadata?"checked":""}>\n        <div class="checkbox">\n          <div class="checkbox-tick"></div>\n        </div>\n        <span class="checkbox-label">Look for additional metadata</span>\n      </label>\n    </div>\n  `),document.getElementById(t).addEventListener("change",k)}function k({target:t}){const{id:e,setting:n}=t.dataset;u.setSetting(e,n,t.checked)}d.addEventListener("click",(async({currentTarget:t,target:e})=>{const o=(0,i.A5)("data-item",e,t);if(!o||o.elementRef.disabled)return;const{attrValue:s,elementRef:l}=(0,i.A5)("data-option",e,t);if("local"===s)!function(t){const e=document.createElement("input");e.onchange=v,"file"===t?e.setAttribute("multiple",""):"folder"===t&&(e.setAttribute("webkitdirectory",""),e.setAttribute("directory",""),e.setAttribute("allowdirs","")),e.setAttribute("type","file"),e.setAttribute("accept","audio/*"),e.click()}(o.attrValue);else if("dropbox"===s){const{showDropboxChooser:t}=await n.e(97).then(n.bind(n,97));t()}else"youtube"===s&&async function(t,e){m(e,!0),"modal-toggle"===t?(await(0,r.Ox)(),y()):"google-sign-in"===t&&await(0,a.H8)(),m(e,!1)}(o.attrValue,l)})),document.getElementById("js-import-settings-btn").addEventListener("click",(({currentTarget:t})=>{(0,o.Z)("js-import-settings-panel",h,{element:t})})),window.addEventListener("import",(({detail:t})=>{const{importing:e,option:n,playlistId:i}=t;m(document.querySelector(`[data-option=${n}]`),e),function(t,e){const n=(0,l.fQ)(t),i=(0,c.qr)(t);n&&n.classList.toggle("show-spinner",e),i&&(i.disabled=e,i.classList.toggle("spinner",e))}(i,e)})),window.addEventListener("connectivity-status",(({detail:t})=>{if(!t){const t=document.getElementById("js-youtube-modal");t&&f(t)}d.querySelectorAll("[data-disable]").forEach((e=>{e.disabled=!t}))}))},805:(t,e,n)=>{n.d(e,{o:()=>b,hT:()=>u,vg:()=>p,mP:()=>y,Yc:()=>v,V0:()=>d,cg:()=>m,CE:()=>f,TV:()=>g,$T:()=>k,cI:()=>h,Jh:()=>w,Ci:()=>I,$p:()=>E,gH:()=>L,Pd:()=>S,dS:()=>x,bg:()=>$,gf:()=>T,RX:()=>j,X5:()=>A,gm:()=>B,Yr:()=>P});var i=n(986);const o={},a={};let s="",r=null,l=-1,c=[];function d(){return Object.keys(o).map(u)}function u(t){return o[t]}function m(t){return a[t.id]={shuffled:!1,sortOrder:[]},o[t.id]={sortedBy:"index",order:1,tracks:[],createdAt:Date.now(),...t},o[t.id]}function f(t,e){Object.assign(o[t],e)}function p(t){delete o[t],delete a[t]}function y(t){return a[t]}function v(t,e){Object.assign(a[t],e)}function g(t){return t.reduce(((t,e)=>t+=e.durationInSeconds),0)}function b(t=""){s=t}function h(){return s}function k(t){return t===s}function w(t){r=t}function I(){return r}function E(t){const e=I();if(e&&k(t)){const n=L(t,e.name),i=n?n.index:-1;e.index=i,$(i,t)}}function L(t,e){const n=o[t];return n?n.tracks.find((t=>t.name===e)):null}function $(t,e){const{sortOrder:n}=a[e],i=n.indexOf(t);l=c.indexOf(i),l=l<0?-1:l}function T(){return l}function j(){return c}function x(t){for(let e=0;e<c.length;e++)if(c[e]===t){[c[0],c[e]]=[t,c[0]];break}}function A(t,e,n=-1){const s=I(),{tracks:r}=o[t],l=r.map((({index:t})=>t));a[t].shuffled=e,c=e?(0,i.Sy)(l):l,e&&n>=0&&x(n),s&&$(s.index,t)}function S(t,e){const n=function(t){let e=l;return e+=t,!t||e>=c.length?e=0:-1===e&&(e=c.length-1),c[e]}(e),{tracks:i}=o[t],{sortOrder:s}=a[t];return i[s[n]]}function B(t){t.tracks=t.tracks.map(((t,e)=>(t.index=e,t)))}function H(t,e){return"index"===t?e.index:"duration"===t?e.durationInSeconds:e[t].toLowerCase().replace(/[^\w\s]/gi,"")}function P(t){var e,n,i;a[t.id].sortOrder=(e=t.tracks,n=t.sortedBy,i=t.order,[...e].sort(((t,e)=>{const o=H(n,t),a=H(n,e);return o<a?-i:o>a?i:0})).map((({index:t})=>t)))}},67:(t,e,n)=>{n.d(e,{kc:()=>f,l8:()=>p,VX:()=>y,ci:()=>v,aH:()=>g,qz:()=>b});var i=n(805),o=n(76),a=n(978),s=n(233),r=n(938),l=n(411),c=n(515),d=n(641),u=n(367),m=n(255);function f(t){(0,i.Yc)(t.id,{initialized:!0}),(0,c.bS)(t.title,t.id),(0,o.Fo)(t),(0,i.gm)(t),(0,i.Yr)(t),(0,s.qP)(`playlist/${t.id}`)}function p({id:t,storePlaylist:e}){(0,i.$T)(t)&&(0,d.Gj)((0,i.Ci)()),(0,a.Bv)(t),(0,i.vg)(t),(0,c.MX)(t),(0,s.zL)(t),(0,u.Re)(t),e&&(0,l.j)({action:"delete-playlist",playlist:{id:t}})}function y(t,e,{type:n}={}){const{initialized:c,rendered:d}=(0,i.mP)(t.id);e.length&&(t.tracks=t.tracks.concat(e)),c?((0,i.gm)(t),(0,i.$T)(t.id)&&(0,i.X5)(t.id,(0,r.$8)("shuffle")),(0,i.Yr)(t),(0,i.$p)(t.id),(0,o.Op)(t.id,t.tracks),d&&(0,a.DK)(t),t.storePlaylist&&(0,l.j)({action:"sync"===n?"update-tracks":"add-tracks",artworks:(0,m.uW)(),playlist:{id:t.id,tracks:e}})):(f(t),(0,s.J)("local-files")&&!d&&(0,s.pP)(),t.storePlaylist&&(0,l.j)({action:"create-playlist",artworks:(0,m.uW)(),playlist:t}))}function v({id:t,tracks:e}){const{rendered:n}=(0,i.mP)(t),o=(0,a.DI)(t);n&&o&&(o.innerHTML=""),e.length=0}function g(t){const e=(0,i.cg)({title:t.target.title.value,id:Math.random().toString(36).slice(2),storePlaylist:!0,type:"grid"});f(e),(0,l.j)({action:"create-playlist",playlist:e}),t.preventDefault(),t.target.reset()}function b(t,e,n,i){e.insertAdjacentHTML(n,`\n  <form id="js-${t}-form" class="${t}-form">\n  <input type="text" name="title" class="input" autocomplete="off" placeholder="Title" required>\n  <button class="btn">Create</button>\n  </form>\n  `);const o=document.getElementById(`js-${t}-form`);o.elements.title.focus(),o.addEventListener("submit",i)}},988:(t,e,n)=>{n.d(e,{Tv:()=>l,jo:()=>d,rF:()=>f});var i=n(233),o=n(804),a=n(805),s=n(456),r=n(67);function l(t,e,n){(0,r.qz)(t,e,n,c),e.remove()}function c(t){const e=document.getElementById("js-move-to-list"),n=(0,o.HR)();(0,r.aH)(t),e?e.innerHTML=u(n):t.target.insertAdjacentHTML("beforebegin",m(n))}function d(t){const e=(0,s.HU)(),{tracks:n}=(0,o.Iv)(),l=(0,a.hT)(t),c=n.filter((n=>e.includes(n.index)&&!(0,a.gH)(t,n.name))).map((t=>({...t})));(0,r.VX)(l,c),(0,s.MG)(),(0,i.j8)(`playlist/${l.id}`)}function u(t){return(0,a.V0)().reduce(((e,n)=>(n.id!==t&&(e+=`\n        <li data-panel-item="${n.id}">\n          <button class="btn btn-icon selection-panel-btn selection-panel-move-to-list-item-btn">${n.title}</button>\n        </li>\n      `),e)),"")}function m(t){const e=u(t);return e?`<ul id="js-move-to-list" class="selection-panel-move-to-list">${e}</ul>`:""}function f(t){return`\n    <h3 class="panel-title selection-panel-title">Move to...</h3>\n    ${m(t)}\n    <button class="btn btn-icon selection-panel-btn" data-panel-item="form-btn">Create New Playlist</button>\n  `}},755:(t,e,n)=>{n.d(e,{Ot:()=>u,Mk:()=>m,zs:()=>f});var i=n(804),o=n(835),a=n(411),s=n(805),r=n(978),l=n(801);function c(t){document.getElementById("js-order-toggle").querySelector("use").setAttribute("href",`#${1===t?"down":"up"}-arrow`)}function d(t,e){const{value:n}=document.getElementById("js-filter-input");if(t.order=t.sortedBy===e&&1===t.order?-1:1,t.sortedBy=e,(0,s.Yr)(t),(0,s.$p)(t.id),(0,r.DK)(t),n){const{children:e}=(0,r.DI)(t.id);(0,l.D)(t.id,t.tracks,e,n)}t.storePlaylist&&(0,a.j)({action:"change-sorting",playlist:{order:t.order,id:t.id,sortedBy:e}})}function u({sortedBy:t,order:e}){var n;n=t,document.getElementById("js-sort-toggle").textContent=n,c(e)}function m(t,{sortedBy:e}){document.getElementById("js-sort-panel-container").insertAdjacentHTML("beforeend",function(t,e){const n=function(t){return["index","title","artist","album","duration"].reduce(((e,n)=>`\n      ${e}\n      <li>\n        <button class="btn btn-icon sort-option-btn${n===t?" active":""}" data-sort="${n}">\n          ${n}\n        </button>\n      </li>\n    `),"")}(e);return`<ul id="${t}" class="panel sort-panel">${n}</ul>`}(t,e)),document.getElementById(t).addEventListener("click",p)}function f(t){d(t,t.sortedBy),c(t.order)}function p({currentTarget:t,target:e}){const n=e.getAttribute("data-sort"),a=(0,i.Iv)();t.removeEventListener("click",p),(0,o.W)(),n!==a.sortedBy&&(u({sortedBy:n,order:1}),d(a,n))}},456:(t,e,n)=>{n.d(e,{Uk:()=>L,HU:()=>D,MG:()=>j});var i=n(986),o=n(805),a=n(938),s=n(804),r=n(411),l=n(800),c=n(978),d=n(76),u=n(367);const m={},f={};let p=null,y=null,v=0,g=null,b={},h=[],k=0,w=!1,I=!1,E=-1;function L({id:t,tracks:e,type:n}){p&&$(),e.length&&(E=-1,v="list"===n?35:0,p=(0,s.Ko)(t),p.addEventListener("mousedown",C))}function $(){p.removeEventListener("mousedown",C),p=null}function T(){U().forEach((t=>{t.classList.remove("selected")}))}function j(){T(),A()}function x(){I||(I=!0,(0,l.EZ)(),setTimeout((()=>{window.addEventListener("click",q,!0)}),0),window.addEventListener("keydown",V))}function A(){I&&(I=!1,(0,l.b$)(),window.removeEventListener("click",q,!0),window.removeEventListener("keydown",V))}function S(t,{min:e,max:n}){return t>n?n:t<e?e:t}function B(){clearInterval(k),k=0}function H(t){w=!0,requestAnimationFrame((()=>{g&&function(t,e,n,i){let o=t.x-e.x,a=t.y-e.y;if(o<0){const t=e.x+o;o*=-1,n.left=t,i.left=`${t}px`}else n.left!==e.x&&(n.left=e.x,i.left=`${e.x}px`);if(a<0){let t=e.y+a;t<v&&(t=v),a*=-1,n.top=t,i.top=`${t}px`}else n.top!==e.y&&(n.top=e.y,i.top=`${e.y}px`);n.right=n.left+o,n.bottom=n.top+a,i.width=`${o}px`,i.height=`${a}px`}(f,m,b,g.style),function(t,e,n){for(let i=0;i<t.length;i++){const o=t[i],a=o.ref.classList;e.right>o.left&&e.left<o.right&&e.bottom>o.top&&e.top<o.bottom?(n&&!o.selected&&a.contains("selected")&&(a.remove("selected"),o.removed=!0),o.removed||(a.add("selected"),o.selected=!0)):o.selected?(a.remove("selected"),o.selected=!1):o.removed&&(a.add("selected"),o.removed=!1)}}(h,b,t),w=!1}))}function P(t){const{scrollHeight:e,height:n}=y;p.scrollTop+=36,f.y=p.scrollTop+n,f.y>=e&&(f.y=e,B()),w||H(t)}function M(t){p.scrollTop-=36,f.y=p.scrollTop,f.y<=0&&(f.y=0,B()),w||H(t)}function O(t){const{top:e,left:n,width:i,height:o,scrollHeight:a}=y,r=t.clientY-e;if(f.x=S(t.clientX-n,{min:0,max:i}),f.y=S(p.scrollTop+r,{min:v,max:a}),t.preventDefault(),!g&&function(t,e){return t.x>e.x+2||t.x<e.x-2||t.y>e.y+2||t.y<e.y-2}(f,m))return h=function(){const{children:t}=(0,c.DI)((0,s.HR)());return Array.from(t).map((t=>{const e=t.offsetTop,n=t.offsetLeft;return{ref:t,top:e,left:n,right:n+t.offsetWidth,bottom:e+t.offsetHeight}}))}(),g=function(t,{x:e,y:n}){return b.top=n,b.left=e,t.insertAdjacentHTML("afterbegin",`\n  <div class="selection-area" style="top: ${n}px; left: ${e}px"></div>\n  `),t.firstElementChild}(p,m),document.activeElement.blur(),t.ctrlKey||T(),void A();if(w||H(t.ctrlKey),k&&r>v&&r<o)B();else if(!k){let e=null;if(r>o&&f.y<a)e=P;else{if(!(r<v&&f.y>v))return;e=M}k=setInterval(e,40,t.ctrlKey)}}function R({target:t,ctrlKey:e,shiftKey:n}){if(k&&B(),g){const t=U();E=-1,g.remove(),g=null,b={},h.length=0,t.length?x():A()}else{const o=(0,i.A5)("data-index",t,p);if(o){const t=parseInt(o.attrValue,10);n&&-1!==E?E>=0&&E!==t&&function(t,e,n){const{children:i}=(0,c.DI)((0,s.HR)());t>e&&([t,e]=[e,t]);const o=[...i].slice(t,e+1);n||T();for(const t of o)t.classList.add("selected")}(E,t,e):(E=t,function(t,e){if(e||T(),t.classList.toggle("selected"),t.classList.contains("selected"))x();else{const e=U();t.blur(),e.length||A()}}(o.elementRef,e))}else e||(E=-1,j())}window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",R)}function q({target:t}){!(0,i.A5)("data-selection-panel",t)&&(0,i.c8)(t,p)&&j()}function C({currentTarget:t,target:e,which:n,clientX:o,clientY:a}){var s;1===n&&((0,i.A5)("data-btn",e)?j():(y={top:(s=t).offsetTop,left:s.offsetLeft,width:s.clientWidth,height:s.offsetHeight,scrollHeight:s.scrollHeight},m.x=o-y.left,m.y=t.scrollTop+a-y.top,m.x<y.width&&m.y>v&&(window.addEventListener("mousemove",O),window.addEventListener("mouseup",R))))}function V({key:t,keyCode:e}){"Delete"!==t&&127!==e||(!function(){const t=U(),e=(0,s.Iv)(),n=W(t),{tracksToKeep:i,tracksToRemove:l}=function(t,e){const n=[],i=[];return t.forEach((t=>{e.includes(t.index)?i.push(t):n.push(t)})),{tracksToRemove:i,tracksToKeep:n}}(e.tracks,n);e.tracks=i,E=-1,t.forEach((t=>t.remove())),(0,o.gm)(e),(0,o.Yr)(e),function(t){const{sortOrder:e}=(0,o.mP)(t);[...(0,c.DI)(t).children].forEach(((t,n)=>{const i=t.querySelector(".list-item-index");i&&(i.textContent=n+1),t.setAttribute("data-index",e[n])}))}(e.id),(0,o.X5)(e.id,(0,a.$8)("shuffle")),(0,o.$p)(e.id),(0,d.Op)(e.id,i),i.length||($(),(0,c.DK)(e));e.storePlaylist&&(0,r.j)({action:"remove-tracks",playlist:{id:e.id,tracks:l}});(0,u.e5)(l)}(),A())}function U(){return Array.from(p.querySelectorAll(".track.selected"))}function W(t){return t.map((t=>parseInt(t.getAttribute("data-index"),10)))}function D(){return W(U())}window.addEventListener("keydown",(t=>{const e=t.shiftKey||t.altKey||t.metaKey,n=(0,s.HR)();if(t.target instanceof HTMLInputElement||e||!n)return;const i=(0,c.DI)(n);if(i&&i.children.length&&t.ctrlKey&&"a"===t.key){t.preventDefault(),x();for(const t of i.children)t.classList.add("selected")}}))},978:(t,e,n)=>{n.d(e,{DI:()=>f,G$:()=>p,BA:()=>y,y7:()=>v,Bv:()=>$,DK:()=>L,RI:()=>E,U7:()=>x,x2:()=>j,Tg:()=>A,xA:()=>S,e0:()=>T,K2:()=>w,T4:()=>B,VR:()=>H,v7:()=>P});var i=n(986),o=n(804),a=n(411),s=n(254),r=n(641),l=n(255),c=n(805),d=n(935),u=n(456);let m=null;function f(t){return document.getElementById(`js-${t}`)}function p(){if(m)return m.querySelector(".btn-icon")}function y(t){if((0,o.HR)()!==(0,c.cI)())return(0,s._k)(!0);const e=(0,c.Ci)(),n=(0,r.YI)();return e&&e.index===t?(0,s._k)(n):(0,s._k)(!0)}function v(t,e,n){return"list"===n?function(t,e){const{sortOrder:n}=(0,c.mP)(e),o=n.indexOf(t.index),{title:a,id:s}=y(t.index);return`\n    <span class="list-item-first-col">\n    <span class="list-item-index">${o+1}</span>\n    <button class="btn btn-icon track-play-pause-btn" data-btn="play" title="${a}">\n      ${(0,i.q7)({iconId:s,className:"list-item-btn-icon"})}\n    </button>\n    </span>\n    <span class="list-item-col">${t.title}</span>\n    <span class="list-item-col">${t.artist}</span>\n    <span class="list-item-col">${t.album}</span>\n    <span class="list-item-last-col">${t.duration}</span>\n  `}(t,e):function(t){const{title:e,id:n}=y(t.index);return`\n  <div class="artwork-container grid-item-thumbnail">\n    <button class="btn btn-icon track-play-pause-btn artwork-container-btn" data-btn="play" title="${e}">\n      ${(0,i.q7)({iconId:n,className:"grid-item-btn-icon"})}\n    </button>\n    <img src="${(0,l.eA)(t.artworkId).image.small.url}" class="artwork" alt="">\n  </div>\n  ${w(t)}\n  <div class="grid-item-duration">${t.duration}</div>\n  `}(t)}function g({index:t,player:e}){return`<li class="list-item track${"youtube"!==e||navigator.onLine?"":" disabled"}" data-index="${t}"></li>`}function b({index:t,player:e}){return`<li class="grid-item track${"youtube"!==e||navigator.onLine?"":" disabled"}" data-index="${t}"></li>`}function h(t,e,n){return e.reduce(((e,i)=>e+n(t[i])),"")}function k(t){return t.tracks.length?function({id:t,type:e,tracks:n}){const{sortOrder:i}=(0,c.mP)(t);return"list"===e?function(t,e){return`\n  <ul class="list-view-header">\n    <li class="list-item-first-col">#</li>\n    <li>Title</li>\n    <li>Artist</li>\n    <li>Album</li>\n    <li class="list-item-last-col">Duration</li>\n  </ul>\n  <ul id="js-${t}" class="playlist-view">${e}</ul>\n  `}(t,h(n,i,g)):function(t,e){return`<ul id="js-${t}" class="playlist-view grid-view">${e}</ul>`}(t,h(n,i,b))}(t):'<p class="playlist-message">This playlist is empty</p>'}function w(t){let e=null;return e=t.artist&&t.title?`\n      <div class="track-info-item track-title">${t.title}</div>\n      <div class="track-info-item">${t.artist} ${t.album?`- ${t.album}`:""}</div>\n    `:`<div class="track-info-item track-name">${t.name}</div>`,`<div class="track-info">${e}</div> `}function I(t){if((0,c.cI)()!==t)return;const e=(0,c.Ci)();e&&-1!==e.index&&j(e.index,t)}function E(t){const e=function(t){const e=k(t);return`<div id="js-tab-${t.id}" class="tab" tabindex="0">${e}</div>`}(t);document.getElementById("js-tabs").insertAdjacentHTML("beforeend",e),(0,c.Yc)(t.id,{rendered:!0}),t.tracks.length&&(I(t.id),(0,d.Ig)(t.id))}function L(t){(0,o.Ko)(t.id).innerHTML=k(t),t.tracks.length?(I(t.id),(0,d.m8)(t.id),(0,u.Uk)(t)):(0,d.AP)(t.id)}function $(t){const e=(0,o.Ko)(t);e&&((0,d.AP)(t),e.remove())}function T(t,e){const{sortOrder:n}=(0,c.mP)(e),i=n.indexOf(t);return document.getElementById(`js-${e}`).children[i]}function j(t,e){m=T(t,e),m.classList.add("playing")}function x(){m&&(m.classList.remove("playing"),m=null)}function A(t){(0,c.cI)()===t&&m&&S(t)}function S(t){requestAnimationFrame((()=>{const e=(0,o.Ko)(t),{offsetHeight:n,offsetTop:i}=m,{clientHeight:a,scrollTop:s}=e;(i-n<s||i>s+a)&&(e.scrollTop=i-a/2)}))}function B(t){const e=p();e&&(0,s.Lr)(e,t)}function H(t){const e=document.getElementById("js-list-toggle-btn"),n=document.getElementById("js-grid-toggle-btn");"list"===t?(e.classList.add("active"),n.classList.remove("active")):(n.classList.add("active"),e.classList.remove("active"))}function P(t,e){t.type=e,L(t),H(e),t.storePlaylist&&(0,a.j)({action:"change-type",playlist:{id:t.id,type:e}})}window.addEventListener("connectivity-status",(({detail:t})=>{(0,c.V0)().forEach((e=>{const n=f(e.id),{sortOrder:i}=(0,c.mP)(e.id);n&&e.tracks.forEach((e=>{if("youtube"===e.player){const o=i.indexOf(e.index);n.children[o].classList.toggle("disabled",!t)}}))}))}))},800:(t,e,n)=>{n.d(e,{EZ:()=>r,rA:()=>l,b$:()=>c});var i=n(986),o=n(835),a=n(988),s=n(367);function r(){const t="js-selection-panel-container";document.getElementById("js-playlist-tab-header-items").insertAdjacentHTML("afterbegin",`\n    <div id="${t}" class="playlist-tab-header-item" data-selection-panel>\n      <button class="btn btn-icon" data-item="selection-panel" title="Show selection panel">\n        ${(0,i.q7)({iconId:"playlist-add"})}\n      </button>\n    </div>\n  `),document.getElementById(t).addEventListener("click",d)}function l(t,{playlistId:e}){document.getElementById("js-selection-panel-container").insertAdjacentHTML("beforeend",`\n    <div id="${t}" class="panel selection-panel">\n      <div class="selection-panel-section">\n        ${(0,a.rF)(e)}\n      </div>\n      <div class="selection-panel-section">\n        <button class="btn btn-icon selection-panel-btn" data-panel-item="queue-btn">Add to Queue</button>\n      </div>\n    </div>\n  `)}function c(){const t=document.getElementById("js-selection-panel-container");t.removeEventListener("click",d),t.remove()}function d({currentTarget:t,target:e}){const n=(0,i.A5)("data-panel-item",e,t);if(!n)return;const{attrValue:r,elementRef:l}=n;"form-btn"===r?((0,a.Tv)("selection-panel-move-to",l,"afterend"),l.remove()):"queue-btn"===r?((0,s.dS)(),(0,o.W)()):(t.removeEventListener("click",d),(0,a.jo)(r),(0,o.W)())}},233:(t,e,n)=>{n.d(e,{qP:()=>r,zL:()=>l,j8:()=>c,pP:()=>d,J:()=>s});var i=n(986);let o=[];function a(t){return o.some((e=>e===t))}function s(t){return window.location.hash.includes(t)}function r(t){a(t)||o.push(t)}function l(t){o=o.filter((e=>!e.includes(t)))}function c(t){window.location.hash=`/${t}`}function d(){const t=window.location.hash.slice(2).replace(/\/+$/g,"");let e=!1,n="home";t&&!a(t)?n="not-found":(e=t.startsWith("playlist/"),n=e?t.split("playlist/")[1]:n),(0,i.hb)("route-change",{tabId:n,isPlaylistTab:e})}window.addEventListener("hashchange",d)},938:(t,e,n)=>{n.d(e,{Lt:()=>o,$8:()=>a,Wf:()=>s});const i=Object.assign({playback:"normal",shuffle:!1,mute:!1,volume:.4},JSON.parse(localStorage.getItem("veery-settings"))||{});function o(t,e){i[t]=e,r(i)}function a(t){return i[t]}function s(t){delete i[t],r(i)}function r(t){localStorage.setItem("veery-settings",JSON.stringify(t))}},515:(t,e,n)=>{n.d(e,{bS:()=>l,oX:()=>c,MX:()=>d,fQ:()=>r,OA:()=>u,_4:()=>m});var i=n(986),o=n(835),a=n(67);const s=document.getElementById("js-sidebar-container");function r(t){return document.getElementById(`js-sidebar-entry-${t}`)}function l(t,e){document.getElementById("js-sidebar-entries").insertAdjacentHTML("beforeend",`\n    <li id="js-sidebar-entry-${e}" class="sidebar-entry">\n      <a href="./#/playlist/${e}" class="sidebar-link" data-link>${t}</a>\n    </li>\n  `)}function c(t,e){r(t).querySelector(".sidebar-link").textContent=e}function d(t){r(t).remove()}function u(t){const e=r(t);m(),e.insertAdjacentHTML("beforeend",(0,i.q7)({iconId:"volume",elementId:"js-active-playlist-icon",className:"active-playlist-icon"}))}function m(){const t=document.getElementById("js-active-playlist-icon");t&&t.remove()}function f(t,{element:e}){e.insertAdjacentHTML("afterend",`\n    <form id="${t}" class="panel sidebar-form">\n      <h3 class="panel-title">Create Playlist</h3>\n      <div class="sidebar-form-input-container">\n        <input type="text" name="title" class="input sidebar-form-input"\n          autocomplete="off" placeholder="Title" required>\n        <button class="btn">Create</button>\n      </div>\n    </form>\n  `);const n=document.getElementById(t);n.elements.title.focus(),n.addEventListener("submit",p)}function p(t){(0,a.aH)(t),(0,o.W)()}s.addEventListener("click",(({currentTarget:t,target:e})=>{if((0,i.A5)("data-link",e,t)||(0,i.c8)(e,t.firstElementChild))return void t.classList.add("hidden");const n=(0,i.A5)("data-btn",e,t);n&&(0,o.Z)("js-sidebar-form-panel",f,{element:n.elementRef})})),s.addEventListener("keyup",(({currentTarget:t,target:e,key:n})=>{const o=(0,i.A5)("data-link",e,t);o&&" "===n&&o.elementRef.click()})),window.addEventListener("connectivity-status",(({detail:t})=>{document.getElementById("js-online-status").classList.toggle("visible",!t)}))},804:(t,e,n)=>{n.d(e,{HR:()=>g,Iv:()=>b,Ko:()=>h});var i=n(978),o=n(986),a=n(515),s=n(835),r=n(503),l=n(805),c=n(456),d=n(755),u=n(800),m=n(801),f=n(641);const p=document.getElementById("js-tab-header"),y=matchMedia("(max-width: 540px)");let v="";function g(){return v}function b(){return(0,l.hT)(v)}function h(t){return document.getElementById(`js-tab-${t}`)}p.addEventListener("click",(({currentTarget:t,target:e})=>{const n=(0,o.A5)("data-item",e,t);if(!n)return;const a=b(),r=n.attrValue;"selection-panel"===r?(0,s.Z)("js-selection-panel",u.rA,{playlistId:a.id,element:n.elementRef}):"list"!==r&&"grid"!==r||r===a.type?"sorting"===r?(0,s.Z)("js-sort-panel",d.Mk,{sortedBy:a.sortedBy,element:n.elementRef}):"order"===r&&a.sortedBy?(0,d.zs)(a):"sidebar"===r&&document.getElementById("js-sidebar-container").classList.remove("hidden"):(0,i.v7)(a,r)})),window.addEventListener("route-change",(({detail:{isPlaylistTab:t,tabId:e}})=>{const n=h(v);(0,o.ml)(".sidebar-entry.active","active"),(0,o.ml)(".tab.active","active"),function(t=""){v=t}(t?e:""),n&&n.removeEventListener("click",f.Aq),t?(!function(t){const e=(0,l.hT)(t),{rendered:n}=(0,l.mP)(t);n||(0,i.RI)(e),(0,i.Tg)(t),"list"===e.type&&y.matches?(0,i.v7)(e,"grid"):(0,i.VR)(e.type),(0,d.Ot)(e),(0,c.Uk)(e),(0,m.W)(),e.tracks.length&&h(t).addEventListener("click",f.Aq)}(e),p.classList.add("playlist-tab-active")):(p.classList.remove("playlist-tab-active"),"home"===e&&(0,r.RA)()),(0,f.ue)(e),h(e).classList.add("active"),"not-found"!==e&&(0,a.fQ)(e).classList.add("active")})),y.onchange=function({matches:t}){const e=b();t&&e&&"list"===e.type&&(0,i.v7)(e,"grid")}},986:(t,e,n)=>{n.d(e,{Vs:()=>i,ml:()=>o,A5:()=>a,rP:()=>s,c8:()=>r,mr:()=>c,hb:()=>d,ZS:()=>u,Sy:()=>m,q7:()=>f});const i=function(){const t=[];return{load:function(e){return t.includes(e.src)?Promise.resolve():new Promise((n=>{const i=document.createElement("script");Object.keys(e).forEach((t=>{i.setAttribute(t,e[t])})),document.getElementsByTagName("body")[0].appendChild(i),t.push(e.src),i.onload=n}))}}}();function o(t,e){const n=document.querySelector(t);n&&n.classList.remove(e)}function a(t,e,n=null){for(;e&&e!==n;){if(e.hasAttribute(t))return{elementRef:e,attrValue:e.getAttribute(t)};e=e.parentElement}}function s(t){if(t)return t.scrollHeight>t.clientHeight?t:s(t.parentElement)}function r(t,e){return!!e&&!e.contains(t)}function l(t,e=!0){return e&&t<10?`0${t}`:t}function c(t,e=!1){const n=function(t){return Math.floor(t/3600)}(t),i=function(t){return Math.floor(t/60%60)}(t),o=function(t){return t%60}(t);return`${(e=e||n)?`${n}:`:""}${l(i,e)}:${l(o)}`}function d(t,e){const n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)}function u(t,{id:e,title:n}){"svg"===t.nodeName?t.querySelector("title").textContent=n:t.setAttribute("title",n),t.querySelector("use").setAttribute("href",`#${e}`)}function m(t){let e=t.length;for(;e;){const n=Math.floor(Math.random()*e);e-=1,[t[e],t[n]]=[t[n],t[e]]}return t}function f(t){return`\n  <svg viewBox="0 0 24 24" ${t.elementId?`id=${t.elementId}`:""} ${t.className?`class="${t.className}"`:""}>\n  ${t.title?`<title>${t.title}</title>`:""}\n  <use href="#${t.iconId}"></use>\n  </svg>\n  `}},411:(t,e,n)=>{n.d(e,{j:()=>d});var i=n(233),o=n(805),a=n(67),s=n(76),r=n(641),l=n(255);const c=new Worker("./ww.js");function d(t){c.postMessage(t)}c.onmessage=function({data:{artworks:t,playlists:e}}){(0,l.T4)(t),e.forEach((t=>{(0,a.kc)((0,o.cg)(t))})),navigator.onLine&&(0,s.OV)(e.filter((t=>t.syncOnInit))),r.S6.initTrack(),(0,i.pP)()},c.onerror=function(t){console.log(t)}},554:(t,e,n)=>{n.d(e,{uI:()=>k,pZ:()=>w,Ox:()=>I});var i=n(986),o=n(67),a=n(805),s=n(543),r=n(175),l=n(255);let c=null;function d(t){(0,s.t)({title:"YouTube",body:t})}function u(t){if(t.includes("H")||(t=`0H${t}`),!t.includes("M")){const e=t.indexOf("H")+1;t=`${t.slice(0,e)}0M${t.slice(e)}`}return t.includes("S")||(t=`${t}0`),t.match(/\d{1,}/g).reverse().reduce(((t,e,n)=>t+=e*60**n),0)}function m(t,e,n,i,o){const a=(0,r.hP)();let s=`part=${e}&${n}=${i}&maxResults=50&key=AIzaSyD33Rxm4dA34Mh84oSxYTUUF_jyCLLOua4`;return o&&(s+=`&pageToken=${o}`),a&&(s+=`&access_token=${a}`),fetch(`https://www.googleapis.com/youtube/v3/${t}?${s}`).then((t=>t.json()))}function f(t,e){return t.reduce(((t,n)=>(e.some((t=>t.id===n.id))||t.push(n),t)),[])}function p(t){return t.filter((t=>{const e=t.snippet.title;return"Deleted video"!==e&&"Private video"!==e}))}function y(t){return t.map((t=>{const e=t.snippet.resourceId.videoId;return(0,l.Qs)(e,{image:{original:{url:t.snippet.thumbnails.medium.url}}}),{id:e,durationInSeconds:t.durationInSeconds,duration:(0,i.mr)(t.durationInSeconds),name:t.snippet.title,title:t.snippet.title,artist:"",album:"",artworkId:e,player:"youtube"}}))}async function v(t,e){const{error:n,items:i,nextPageToken:o}=await m("playlistItems","snippet","playlistId",t,e);n&&function({code:t,message:e}){throw 403===t?e="You need to be sign in if you want to import private playlists":404===t&&(e="Playlist was not found"),d(e),new Error(e)}(n);const a=await async function(t){const e=t.map((t=>t.snippet.resourceId.videoId)).join(),n=await m("videos","contentDetails","id",e);return t.reduce(((t,e)=>{const i=n.items.find((({id:t})=>t===e.snippet.resourceId.videoId));return i&&(e.durationInSeconds=u(i.contentDetails.duration)-1,t.push(e)),t}),[])}(p(i)),s=y(a);if(o){const e=await v(t,o);return s.concat(e)}return s}function g(t,e){return(0,a.hT)(t)||(0,a.cg)({id:t,type:"grid",storePlaylist:!0,...e})}async function b(t,e){const n=g(t,{title:"YouTube"}),{items:i}=await m("videos","snippet,contentDetails","id",e);if(i.length){const t=f(y(p(i).map((t=>(t.snippet.resourceId={videoId:t.id},t.durationInSeconds=u(t.contentDetails.duration)-1,t)))),n.tracks);(0,o.VX)(n,t)}else d("Video was not found")}async function h(t,e,n){const i=g(e,{url:t}),s=await v(e);"sync"===n&&(0,o.ci)(i),i.title||(0,a.CE)(i.id,await async function(t){const{items:e}=await m("playlists","snippet,status","id",t),n="private"===e[0].status.privacyStatus,i={title:e[0].snippet.title,isPrivate:n};return n&&(i.user=(0,r.eY)()),i}(e)),(0,o.VX)(i,f(s,i.tracks),{type:"sync"})}async function k(t,e){const{searchParams:n}=new URL(t),o=n.get("v"),a=n.get("list"),s=a||"youtube";if(o||a)if("WL"!==a){(0,i.hb)("import",{importing:!0,option:"youtube",playlistId:s});try{a?await h(t,s,e):o?await b(s,o):d("Invalid URL")}catch(t){console.log(t)}finally{(0,i.hb)("import",{importing:!1,option:"youtube",playlistId:s})}}else d("Importing <b>Watch Later</b> playlist is not allowed");else d("Invalid url")}function w(){return c}async function I(){var t;if(await(0,r.mH)()&&!c)try{const e=await m("playlists","snippet,contentDetails","mine",!0);t=e.items,c=t.map((t=>({id:t.id,itemCount:t.contentDetails.itemCount,title:t.snippet.title,thumbnail:t.snippet.thumbnails.medium.url})))}catch(t){console.log(t)}}window.addEventListener("google-sign-out",(()=>{c=null}),{once:!0})}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return i[t].call(n.exports,n,n.exports,a),n.exports}a.m=i,t=[],a.O=(e,n,i,o)=>{if(!n){var s=1/0;for(d=0;d<t.length;d++){for(var[n,i,o]=t[d],r=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((t=>a.O[t](n[l])))?n.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[n,i,o]},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>t+".js",a.miniCssF=t=>"main.css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},n="veery:",a.l=(t,i,o,s)=>{if(e[t])e[t].push(i);else{var r,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+o){r=u;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",n+o),r.src=t),e[t]=[i];var m=(n,i)=>{r.onerror=r.onload=null,clearTimeout(f);var o=e[t];if(delete e[t],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((t=>t(i))),n)return n(i)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={179:0};a.f.j=(e,n)=>{var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=t[e]=[n,o]));n.push(i[2]=o);var s=a.p+a.u(e),r=new Error;a.l(s,(n=>{if(a.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",r.name="ChunkLoadError",r.type=o,r.request=s,i[1](r)}}),"chunk-"+e,e)}},a.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[s,r,l]=n,c=0;if(s.some((e=>0!==t[e]))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var d=l(a)}for(e&&e(n);c<s.length;c++)o=s[c],a.o(t,o)&&t[o]&&t[o][0](),t[s[c]]=0;return a.O(d)},n=globalThis.webpackChunkveery=globalThis.webpackChunkveery||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var s=a.O(void 0,[736],(()=>a(357)));s=a.O(s)})();